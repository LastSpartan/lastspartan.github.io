<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fish Card Generator</title>
<style>
body {
  font-family: sans-serif;
  background: #1b1b1b;
  color: white;
  padding: 20px;
}

.controls {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-bottom: 16px;
}

select, input, button {
  padding: 6px;
  font-size: 14px;
}

.card {
  width: 260px;
  border-radius: 10px;
  padding: 12px;
  background: #222;
  box-shadow: 0 0 10px #000;
}

.fish-image {
  height: 120px;
  border-radius: 8px;
  margin-bottom: 8px;
}

.title {
  font-size: 16px;
  margin-bottom: 6px;
}

.stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  text-align: center;
  margin-bottom: 8px;
}

.stats strong {
  display: block;
}

.saved {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 20px;
}
</style>
</head>

<body>

<h2>Fish Card Generator</h2>

<div class="controls">
  <select id="commonFish">
    <option value="">Common Fish</option>
  </select>

  <input id="nameInput" placeholder="Fish Name">

  <select id="shape"></select>
  <select id="primary"></select>
  <select id="secondary"></select>

  <button onclick="saveCard()">Save Card</button>
</div>

<div class="card">
  <div id="fishImage" class="fish-image"></div>
  <div id="title" class="title"></div>

  <div class="stats">
    <div><strong>Attack</strong><span id="atk"></span></div>
    <div><strong>Defense</strong><span id="def"></span></div>
    <div><strong>Speed</strong><span id="spd"></span></div>
  </div>
</div>

<h3>Saved Cards</h3>
<div class="saved" id="savedCards"></div>

<script>
const shapes = {
  Flopper: { atk:4, def:15, spd:1 },
  Stripey: { atk:4, def:15, spd:1 },
  Snooper: { atk:2, def:15, spd:3 },
  Dasher: { atk:3, def:12, spd:3 },
  Sunstreak: { atk:3, def:12, spd:3 },
  Kob: { atk:2, def:15, spd:3 },
  Brinely: { atk:4, def:12, spd:2 },
  Spotty: { atk:4, def:12, spd:2 },
  Glitter: { atk:2, def:18, spd:2 },
  Blockfish: { atk:3, def:18, spd:1 },
  Betty: { atk:3, def:18, spd:1 },
  Clayfish: { atk:2, def:18, spd:2 }
};

const colors = {
  Orange:"#e67e22", Gray:"#7f8c8d", Blue:"#3498db", White:"#ecf0f1",
  Pink:"#ff69b4", Purple:"#9b59b6", Yellow:"#f1c40f",
  Red:"#e74c3c", Cyan:"#1abc9c", Lime:"#2ecc71", "Light Blue":"#5dade2"
};

const commonFish = [
  { name:"Anemone", shape:"Stripey", p:"Orange", s:"Gray" },
  { name:"Black Tang", shape:"Flopper", p:"Gray", s:null },
  { name:"Blue Tang", shape:"Flopper", p:"Gray", s:"Blue" },
  { name:"Clownfish", shape:"Kob", p:"Orange", s:"White" },
  { name:"Yellow Tang", shape:"Flopper", p:"Yellow", s:null }
];

const els = {
  common: commonFishSelect = document.getElementById("commonFish"),
  name: document.getElementById("nameInput"),
  shape: document.getElementById("shape"),
  primary: document.getElementById("primary"),
  secondary: document.getElementById("secondary"),
  img: document.getElementById("fishImage"),
  title: document.getElementById("title"),
  atk: document.getElementById("atk"),
  def: document.getElementById("def"),
  spd: document.getElementById("spd"),
  saved: document.getElementById("savedCards")
};

function populate() {
  Object.keys(shapes).forEach(s => els.shape.add(new Option(s,s)));
  Object.keys(colors).forEach(c => {
    els.primary.add(new Option(c,c));
    els.secondary.add(new Option(c,c));
  });
  els.secondary.add(new Option("None",""));

  commonFish.forEach((f,i)=> {
    els.common.add(new Option(f.name,i));
  });
}
populate();

function render() {
  const shape = els.shape.value;
  const p = els.primary.value;
  const s = els.secondary.value || null;

  const match = commonFish.find(f =>
    f.shape===shape && f.p===p && f.s===s
  );

  els.title.innerHTML = match
    ? `<em>${match.name}</em> ${shape}`
    : shape;

  const stats = shapes[shape];
  els.atk.textContent = stats.atk;
  els.def.textContent = stats.def;
  els.spd.textContent = stats.spd;

  if (s) {
    els.img.style.backgroundImage =
      `repeating-linear-gradient(
        45deg,
        ${colors[s]} 0 4px,
        ${colors[p]} 4px 12px
      )`;
  } else {
    els.img.style.background = colors[p];
  }
}

function saveCard() {
  const clone = document.querySelector(".card").cloneNode(true);
  els.saved.appendChild(clone);
}

els.common.onchange = e => {
  const f = commonFish[e.target.value];
  if (!f) return;
  els.shape.value = f.shape;
  els.primary.value = f.p;
  els.secondary.value = f.s || "";
  render();
};

["shape","primary","secondary"].forEach(id=>{
  document.getElementById(id).onchange = render;
});

render();
</script>
</body>
</html>

