<!DOCTYPE html>
<html>
<head>
  <title>Fish Stat Card Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #1e1e2e;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px;
    }

    .container {
      display: flex;
      align-items: flex-start;
      gap: 20px;
    }

    .card {
      background: #2a2a40;
      border-radius: 12px;
      padding: 20px;
      width: 400px;
      margin-bottom: 20px;
    }

    .fish {
      width: 100%;
      height: 140px;
      border-radius: 10px;
      margin-bottom: 10px;
    }

    input, select, button {
      width: 100%;
      margin-bottom: 10px;
      padding: 6px;
      border-radius: 6px;
      border: none;
      font-size: 14px;
    }

    button {
      background-color: #ffd166;
      color: #2a2a40;
      font-weight: bold;
      cursor: pointer;
    }

    button:hover {
      background-color: #ffca66;
    }

    .removeCard {
      background-color: #e63946 !important;
      color: white !important;
      font-weight: bold;
      cursor: pointer;
      width: 100%;
      margin-top: 10px;
    }

    .removeCard:hover {
      background-color: #f55a66 !important;
    }

    .ability {
      margin-top: 8px;
      background: #1e1e2e;
      padding: 8px;
      border-radius: 8px;
    }

    .ability-name {
      font-weight: bold;
      color: #ffd166;
    }

    .type {
      margin: 8px 0;
      font-weight: bold;
    }

    h2, h3 {
      margin: 5px 0;
    }

    #savedCards .card {
      width: 350px;
    }

    .common-fish-container {
      display: flex;
      flex-direction: column;
      margin-bottom: 20px;
      width: 200px;
    }

    .common-fish-container label {
      margin-bottom: 5px;
      font-weight: bold;
    }
  </style>
</head>
<body>

<div class="common-fish-container">
  <label for="commonFish">Common Fish</label>
  <select id="commonFish">
    <option value="-">-</option>
    <option value="anemone">Anemone</option>
    <option value="blackTang">Black Tang</option>
    <option value="blueTang">Blue Tang</option>
    <option value="butterflyfish">Butterflyfish</option>
    <option value="cichlid">Cichlid</option>
    <option value="clownfish">Clownfish</option>
    <option value="cottonCandyBetta">Cotton Candy Betta</option>
    <option value="dottyback">Dottyback</option>
    <option value="emperorRedSnapper">Emperor Red Snapper</option>
    <option value="goatfish">Goatfish</option>
    <option value="moorishIdol">Moorish Idol</option>
    <option value="ornateButterflyfish">Ornate Butterflyfish</option>
    <option value="parrotfish">Parrotfish</option>
    <option value="queenAngelfish">Queen Angelfish</option>
    <option value="redCichlid">Red Cichlid</option>
    <option value="redLippedBlenny">Red Lipped Blenny</option>
    <option value="redSnapper">Red Snapper</option>
    <option value="threadfin">Threadfin</option>
    <option value="tomatoClownfish">Tomato Clownfish</option>
    <option value="triggerfish">Triggerfish</option>
    <option value="yellowtailParrotfish">Yellowtail Parrotfish</option>
    <option value="yellowTang">Yellow Tang</option>
  </select>
</div>

<div class="card">
  <h2>Fish Card</h2>

  <input id="customName" placeholder="Fish Name" />

  <select id="fishShape">
    <option value="dasher">Dasher</option>
    <option value="sunstreak">Sunstreak</option>
    <option value="snooper">Snooper</option>
    <option value="kob">Kob</option>
    <option value="brinely">Brinely</option>
    <option value="spotty">Spotty</option>
    <option value="flopper">Flopper</option>
    <option value="stripey">Stripey</option>
    <option value="glitter">Glitter</option>
    <option value="blockfish">Blockfish</option>
    <option value="betty">Betty</option>
    <option value="clayfish">Clayfish</option>
  </select>

  <select id="primary">
    <option value="blue">Blue</option>
    <option value="red">Red</option>
    <option value="orange">Orange</option>
    <option value="yellow">Yellow</option>
    <option value="brown">Brown</option>
    <option value="purple">Purple</option>
    <option value="pink">Pink</option>
    <option value="magenta">Magenta</option>
    <option value="black">Black</option>
    <option value="gray">Gray</option>
    <option value="white">White</option>
    <option value="lime">Lime</option>
    <option value="green">Green</option>
    <option value="sky">Sky</option>
    <option value="cyan">Cyan</option>
  </select>

  <select id="secondary">
    <option value="blue">Blue</option>
    <option value="red">Red</option>
    <option value="orange">Orange</option>
    <option value="yellow">Yellow</option>
    <option value="brown">Brown</option>
    <option value="purple">Purple</option>
    <option value="pink">Pink</option>
    <option value="magenta">Magenta</option>
    <option value="black">Black</option>
    <option value="gray">Gray</option>
    <option value="white">White</option>
    <option value="lime">Lime</option>
    <option value="green">Green</option>
    <option value="sky">Sky</option>
    <option value="cyan">Cyan</option>
  </select>

  <div id="fish" class="fish"></div>
  <div class="type" id="typeText"></div>
  <div id="stats"></div>
  <div id="abilities"></div>

  <button id="saveCard">Save Fish Card</button>
</div>

<h2>Saved Fish Cards</h2>
<div id="savedCards"></div>

<script>
  const fishes = {
    dasher:    { atk: 3, hp: 12, spd: 3, special: "Amped" },
    sunstreak: { atk: 3, hp: 12, spd: 3, special: "Poised" },
    snooper:   { atk: 2, hp: 15, spd: 3, special: "Amped" },
    kob:       { atk: 2, hp: 15, spd: 3, special: "Poised" },
    brinely:   { atk: 4, hp: 12, spd: 2, special: "Amped" },
    spotty:    { atk: 4, hp: 12, spd: 2, special: "Poised" },
    flopper:   { atk: 4, hp: 15, spd: 1, special: "Amped" },
    stripey:   { atk: 4, hp: 15, spd: 1, special: "Poised" },
    glitter:   { atk: 2, hp: 18, spd: 2, special: "Poised" },
    blockfish: { atk: 3, hp: 18, spd: 1, special: "Poised" },
    betty:     { atk: 3, hp: 18, spd: 1, special: "Amped" },
    clayfish:  { atk: 2, hp: 18, spd: 2, special: "Amped" }
  };

  const specialText = {
    Amped: "This fish can attack the turn it is swapped in.",
    Poised: "When an enemy fish swaps in this fish gets a free attack against it."
  };

  const colors = {
    blue: { color: "#4ea8de", abilities:[{name:"True Blue", text:"Make an attack. It deals double damage to Red fish!"},{name:"Out of the Blue", text:"Make an attack. It deals double damage to Orange fish!"}] },
    red: { color: "#e63946", abilities:[{name:"Seeing Red", text:"Make an attack. It deals double damage to Orange fish!"},{name:"Red Hot", text:"Make an attack. It deals double damage to Yellow fish!"}] },
    orange: { color: "#f4a261", abilities:[{name:"Orange Crush", text:"Make an attack. It deals double damage to Yellow fish!"},{name:"Clockwork Orange", text:"Make an attack. It deals double damage to Brown fish!"}] },
    yellow: { color: "#ffd166", abilities:[{name:"Yellowstone", text:"Make an attack. It deals double damage to Brown fish!"},{name:"Mellow Yellow", text:"Make an attack. It deals double damage to Purple fish!"}] },
    brown: { color: "#8d6e63", abilities:[{name:"Brown Out", text:"Make an attack. It deals double damage to Purple fish!"},{name:"Brown Noise", text:"Make an attack. It deals double damage to Pink fish!"}] },
    purple: { color: "#9b5de5", abilities:[{name:"Purple Rain", text:"Make an attack. It deals double damage to Pink fish!"},{name:"Purple Haze", text:"Make an attack. It deals double damage to Magenta fish!"}] },
    pink: { color: "#f15bb5", abilities:[{name:"Pink Slip", text:"Make an attack. It deals double damage to Magenta fish!"},{name:"Tickled Pink", text:"Make an attack. It deals double damage to Black fish!"}] },
    magenta: { color: "#d000ff", abilities:[{name:"Magen-Tension", text:"Make an attack. It deals double damage to Black fish!"},{name:"Magenta-ray", text:"Make an attack. It deals double damage to Gray fish!"}] },
    black: { color: "#000000", abilities:[{name:"Blackout", text:"Make an attack. It deals double damage to Gray fish!"},{name:"Back in Black", text:"Make an attack. It deals double damage to White fish!"}] },
    gray: { color: "#9e9e9e", abilities:[{name:"Shades of Gray", text:"Make an attack. It deals double damage to White fish!"},{name:"Gray Area", text:"Make an attack. It deals double damage to Lime fish!"}] },
    white: { color: "#f5f5f5", abilities:[{name:"White Hot", text:"Make an attack. It deals double damage to Lime fish!"},{name:"Whitewash", text:"Make an attack. It deals double damage to Green fish!"}] },
    lime: { color: "#b9fbc0", abilities:[{name:"Lime Light", text:"Make an attack. It deals double damage to Green fish!"},{name:"Limewire", text:"Make an attack. It deals double damage to Sky fish!"}] },
    green: { color: "#70e000", abilities:[{name:"Green with Envy", text:"Make an attack. It deals double damage to Sky fish!"},{name:"Going Green", text:"Make an attack. It deals double damage to Cyan fish!"}] },
    sky: { color: "#8ecae6", abilities:[{name:"Sky High", text:"Make an attack. It deals double damage to Cyan fish!"},{name:"Blue Sky Thinking", text:"Make an attack. It deals double damage to Blue fish!"}] },
    cyan: { color: "#00f5d4", abilities:[{name:"Cyanara", text:"Make an attack. It deals double damage to Blue fish!"},{name:"Cyanide Strike", text:"Make an attack. It deals double damage to Red fish!"}] }
  };

  // Thin secondary stripes
  function applyStripedBackground(div, primaryColor, secondaryColor) {
    if(primaryColor === secondaryColor){
      div.style.backgroundImage = "";
      div.style.backgroundColor = primaryColor.color;
    } else {
      div.style.backgroundImage = `repeating-linear-gradient(
        45deg,
        ${secondaryColor.color} 0 4px,
        ${primaryColor.color} 4px 12px
      )`;
    }
  }

  // Common fish data
  const commonFishes = {
    anemone: { name:"Anemone", shape:"stripey", primary:"orange", secondary:"gray" },
    blackTang: { name:"Black Tang", shape:"flopper", primary:"gray", secondary:"gray" },
    blueTang: { name:"Blue Tang", shape:"flopper", primary:"gray", secondary:"blue" },
    butterflyfish: { name:"Butterflyfish", shape:"clayfish", primary:"white", secondary:"gray" },
    cichlid: { name:"Cichlid", shape:"sunstreak", primary:"blue", secondary:"gray" },
    clownfish: { name:"Clownfish", shape:"kob", primary:"orange", secondary:"white" },
    cottonCandyBetta: { name:"Cotton Candy Betta", shape:"spotty", primary:"pink", secondary:"sky" },
    dottyback: { name:"Dottyback", shape:"blockfish", primary:"purple", secondary:"yellow" },
    emperorRedSnapper: { name:"Emperor Red Snapper", shape:"clayfish", primary:"white", secondary:"red" },
    goatfish: { name:"Goatfish", shape:"spotty", primary:"white", secondary:"yellow" },
    moorishIdol: { name:"Moorish Idol", shape:"glitter", primary:"white", secondary:"gray" },
    ornateButterflyfish: { name:"Ornate Butterflyfish", shape:"clayfish", primary:"white", secondary:"orange" },
    parrotfish: { name:"Parrotfish", shape:"dasher", primary:"cyan", secondary:"pink" },
    queenAngelfish: { name:"Queen Angelfish", shape:"brinely", primary:"lime", secondary:"sky" },
    redCichlid: { name:"Red Cichlid", shape:"betty", primary:"red", secondary:"white" },
    redLippedBlenny: { name:"Red Lipped Blenny", shape:"snooper", primary:"gray", secondary:"red" },
    redSnapper: { name:"Red Snapper", shape:"blockfish", primary:"red", secondary:"white" },
    threadfin: { name:"Threadfin", shape:"flopper", primary:"white", secondary:"yellow" },
    tomatoClownfish: { name:"Tomato Clownfish", shape:"kob", primary:"red", secondary:"white" },
    triggerfish: { name:"Triggerfish", shape:"sunstreak", primary:"gray", secondary:"white" },
    yellowtailParrotfish: { name:"Yellowtail Parrotfish", shape:"dasher", primary:"cyan", secondary:"yellow" },
    yellowTang: { name:"Yellow Tang", shape:"flopper", primary:"yellow", secondary:"yellow" }
  };

  function updateCard() {
    const fishShape = document.getElementById("fishShape").value;
    const primary = document.getElementById("primary").value;
    const secondary = document.getElementById("secondary").value;
    let customName = document.getElementById("customName").value;

    const fish = fishes[fishShape];
    const primaryColor = colors[primary];
    const secondaryColor = colors[secondary];

    // Check if matches any common fish
    let matchingCommon = null;
    for(const key in commonFishes){
      const c = commonFishes[key];
      if(c.shape === fishShape && c.primary === primary && c.secondary === secondary){
        matchingCommon = c;
        break;
      }
    }

    // Update dropdown
    const commonDropdown = document.getElementById("commonFish");
    if(matchingCommon && !customName){ // only if user hasn't typed name
      customName = matchingCommon.name;
      commonDropdown.value = Object.keys(commonFishes).find(k=>commonFishes[k]===matchingCommon);
    } else {
      commonDropdown.value = "-";
    }

    const fishDiv = document.getElementById("fish");
    applyStripedBackground(fishDiv, primaryColor, secondaryColor);

    document.getElementById("typeText").innerHTML = `${matchingCommon ? `<i>${matchingCommon.name}</i> `: ""}Shape: ${fishShape} | Type: ${primary.toUpperCase()} / ${secondary.toUpperCase()}`;

    document.getElementById("stats").innerHTML = `
      <div style="display:flex; justify-content:space-between; font-weight:bold;">
        <span>Attack</span>
        <span>Defense</span>
        <span>Speed</span>
      </div>
      <div style="display:flex; justify-content:space-between;">
        <span>${fish.atk}</span>
        <span>${fish.hp}</span>
        <span>${fish.spd}</span>
      </div>
    `;

    const abilitiesDiv = document.getElementById("abilities");
    abilitiesDiv.innerHTML = "<h3>Abilities</h3>";

    primaryColor.abilities.slice(0,2).forEach((a,i)=>{
      abilitiesDiv.innerHTML += `
        <div class="ability">
          <div class="ability-name">Primary ${i+1}: ${a.name}</div>
          <div>${a.text}</div>
        </div>
      `;
    });

    if(primary !== secondary){
      const secAbility = secondaryColor.abilities[0];
      abilitiesDiv.innerHTML += `
        <div class="ability">
          <div class="ability-name">Secondary: ${secAbility.name}</div>
          <div>${secAbility.text}</div>
        </div>
      `;
    }

    abilitiesDiv.innerHTML += `
      <div class="ability">
        <div class="ability-name">Special: ${fish.special}</div>
        <div>${specialText[fish.special]}</div>
      </div>
    `;

    document.getElementById("customName").value = customName;
  }

  document.getElementById("fishShape").onchange = updateCard;
  document.getElementById("primary").onchange = updateCard;
  document.getElementById("secondary").onchange = updateCard;
  document.getElementById("customName").oninput = updateCard;

  // Common fish dropdown
  document.getElementById("commonFish").onchange = function(){
    const val = this.value;
    if(val === "-") return;
    const c = commonFishes[val];
    document.getElementById("fishShape").value = c.shape;
    document.getElementById("primary").value = c.primary;
    document.getElementById("secondary").value = c.secondary;
    document.getElementById("customName").value = c.name;
    updateCard();
  };

  // Save Card functionality
  document.getElementById("saveCard").onclick = function() {
    const savedCardsDiv = document.getElementById("savedCards");

    const fishShape = document.getElementById("fishShape").value;
    const primary = document.getElementById("primary").value;
    const secondary = document.getElementById("secondary").value;
    const customName = document.getElementById("customName").value || fishShape;
    const fish = fishes[fishShape];
    const primaryColor = colors[primary];
    const secondaryColor = colors[secondary];

    const cardClone = document.createElement("div");
    cardClone.className = "card";

    cardClone.innerHTML = `
      <div class="fish" style="height:100px;"></div>
      <div class="type">Name: ${customName} | Type: ${primary.toUpperCase()} / ${secondary.toUpperCase()}</div>
      <div style="display:flex; justify-content:space-between; font-weight:bold;">
        <span>Attack</span>
        <span>Defense</span>
        <span>Speed</span>
      </div>
      <div style="display:flex; justify-content:space-between;">
        <span>${fish.atk}</span>
        <span>${fish.hp}</span>
        <span>${fish.spd}</span>
      </div>
      <h3>Abilities</h3>
      ${primaryColor.abilities.slice(0,2).map((a,i)=>`
        <div class="ability">
          <div class="ability-name">Primary ${i+1}: ${a.name}</div>
          <div>${a.text}</div>
        </div>
      `).join('')}
      ${primary!==secondary? `<div class="ability">
        <div class="ability-name">Secondary: ${secondaryColor.abilities[0].name}</div>
        <div>${secondaryColor.abilities[0].text}</div>
      </div>` : ''}
      <div class="ability">
        <div class="ability-name">Special: ${fish.special}</div>
        <div>${specialText[fish.special]}</div>
      </div>
      <button class="removeCard">Remove</button>
    `;

    applyStripedBackground(cardClone.querySelector(".fish"), primaryColor, secondaryColor);

    cardClone.querySelector(".removeCard").onclick = function() {
      savedCardsDiv.removeChild(cardClone);
    };

    savedCardsDiv.appendChild(cardClone);
  };

  updateCard();
</script>

</body>
</html>
